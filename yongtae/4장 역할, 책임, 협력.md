## 4장 역할, 책임, 협력
### 1. 역할
- **정의:** 객체가 협력 내에서 수행하는 행위나 책임의 집합을 의미한다. 이는 객체가 어떻게 행동해야 하는지의 기준을 제공하며, 다양한 객체들이 동일한 역할을 수행할 수 있도록 한다.
  
- **중요성:** 역할은 객체지향 설계의 유연성과 재사용성의 핵심이다. 역할을 통해 다양한 객체들이 동일한 책임을 수행하면서도 서로 다른 방식으로 행동할 수 있게 된다.

- **대체 가능성:** 객체가 특정 역할을 수행하기 위해서는 해당 역할의 책임을 충족시켜야 한다. 이를 통해 다양한 객체들이 동일한 역할을 대체하여 수행할 수 있다.

### 2. 책임
- **정의:** 책임은 객체가 협력 내에서 수행해야하는 특정한 행위 또는 알아야 하는 정보를 의미한다. 이는 객체가 다른 객체에게 제공하는 서비스나, 객체 자신의 상태와 행동을 관리하는 기능을 포함한다.

- **기본 원칙:** 객체는 스스로의 책임을 충실히 수행해야 하며, 필요한 경우 다른 객체에게도 책임을 부여할 수 있다. 이때, 어떤 객체가 어떤 책임을 수행할지는 그 객체의 역할과 지식, 능력을 기반으로 결정된다.

- **책임의 분류:** 책임은 크게 '하는 것(doing)'과 '아는 것(knowing)'으로 분류된다.

*하는 것(doing):* 객체가 수행하는 행위를 의미하며, 예로 객체 생성, 계산 수행, 다른 객체의 행동 시작 혹은 제어 등이 있다.

*아는 것(knowing):* 객체가 알고 있는 정보나 관계를 의미하며, 예로 객체의 상태, 관련된 객체, 계산 가능한 값 등이 있다.

*책임의 중요성:* 책임은 객체의 본질과 핵심을 나타낸다. 올바르게 책임을 할당하고 관리하는 것은 객체지향 설계의 성공 여부를 결정하는 핵심 요소이다.


### 3. 협력
- **객체의 존재 이유:** 객체는 데이터를 저장하는 용도가 아니라, 협력에 참여하여 특정한 행위를 수행하기 위해 존재한다. 객체의 중심은 데이터가 아닌 행동과 책임이다.

- **협력 중심의 설계:** 객체지향 설계에서 중요한 것은 개별 객체의 특성이 아닌, 객체들 간의 협력 관계를 어떻게 구성할 것인지를 중심으로 한다. 이러한 협력을 통해 객체에게 필요한 행동과 책임이 결정된다.

### 3. 객체지향 설계 기법

#### 1) 책임-주도 설계 (Responsibility-Driven Design)
- **기본 아이디어:** 설계는 객체의 책임을 중심으로 진행된다. 시스템을 구성하는 기능들은 더 작고 관리 가능한 책임으로 나누어지며, 이러한 책임들은 가장 적합한 객체에게 할당된다.

- **협력 관계 형성:** 객체는 필요한 정보나 기능을 스스로 수행하기 어려울 때 다른 객체에게 요청한다. 이러한 요청과 응답을 통해 객체들 간의 협력 관계가 형성된다.

#### 2) 디자인 패턴 (Design Patterns)
- **정의:** 반복적으로 발생하는 문제와 그 문제에 대한 해결 방안을 표준화한 설계 기법이다.

- **템플릿 제공:** 디자인 패턴은 일반적으로 사용될 수 있는 역할, 책임, 협력의 템플릿을 제공하여 개발자들이 동일한 문제를 효과적으로 해결할 수 있게 도와준다.

#### 3) 테스트-주도 개발 (Test-Driven Development, TDD)
- **개발 흐름:** 먼저 실패하는 테스트 케이스를 작성하고, 해당 테스트 케이스를 통과하는 가장 간단한 코드를 작성한 후, 코드를 리팩터링하면서 중복을 제거한다.

- **책임 중심의 코드 작성:** TDD는 객체나 클라이언트가 기대하는 결과와 협력 방식을 코드로 작성함으로써, 객체의 책임과 협력을 중심으로 코드를 작성하는 것을 촉진한다.